var de=Object.defineProperty;var he=(t,e,n)=>e in t?de(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var D=(t,e,n)=>(he(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function p(){}function pe(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function ue(t){return t()}function X(){return Object.create(null)}function R(t){t.forEach(ue)}function fe(t){return typeof t=="function"}function P(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let J;function me(t,e){return t===e?!0:(J||(J=document.createElement("a")),J.href=e,t===J.href)}function ge(t){return Object.keys(t).length===0}function h(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function _e(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function F(t){return document.createTextNode(t)}function v(){return F(" ")}function $e(){return F("")}function V(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function $(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function be(t){return Array.from(t.childNodes)}function ve(t,e){e=""+e,t.data!==e&&(t.data=e)}let x;function S(t){x=t}function ye(){if(!x)throw new Error("Function called outside component initialization");return x}const j=[],U=[];let T=[];const z=[],ke=Promise.resolve();let G=!1;function we(){G||(G=!0,ke.then(Q))}function K(t){T.push(t)}function Y(t){z.push(t)}const H=new Set;let N=0;function Q(){if(N!==0)return;const t=x;do{try{for(;N<j.length;){const e=j[N];N++,S(e),Se(e.$$)}}catch(e){throw j.length=0,N=0,e}for(S(null),j.length=0,N=0;U.length;)U.pop()();for(let e=0;e<T.length;e+=1){const n=T[e];H.has(n)||(H.add(n),n())}T.length=0}while(j.length);for(;z.length;)z.pop()();G=!1,H.clear(),S(t)}function Se(t){if(t.fragment!==null){t.update(),R(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(K)}}function Oe(t){const e=[],n=[];T.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),T=e}const M=new Set;let O;function q(){O={r:0,c:[],p:O}}function B(){O.r||R(O.c),O=O.p}function _(t,e){t&&t.i&&(M.delete(t),t.i(e))}function b(t,e,n,r){if(t&&t.o){if(M.has(t))return;M.add(t),O.c.push(()=>{M.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Z(t,e){const n=e.token={};function r(s,o,l,i){if(e.token!==n)return;e.resolved=i;let c=e.ctx;l!==void 0&&(c=c.slice(),c[l]=i);const u=s&&(e.current=s)(c);let a=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==o&&f&&(q(),b(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),B())}):e.block.d(1),u.c(),_(u,1),u.m(e.mount(),e.anchor),a=!0),e.block=u,e.blocks&&(e.blocks[o]=u),a&&Q()}if(pe(t)){const s=ye();if(t.then(o=>{S(s),r(e.then,1,e.value,o),S(null)},o=>{if(S(s),r(e.catch,2,e.error,o),S(null),!e.hasCatch)throw o}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function Pe(t,e,n){const r=e.slice(),{resolved:s}=t;t.current===t.then&&(r[t.value]=s),t.current===t.catch&&(r[t.error]=s),t.block.p(r,n)}function ee(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function W(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function A(t){t&&t.c()}function E(t,e,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),K(()=>{const o=t.$$.on_mount.map(ue).filter(fe);t.$$.on_destroy?t.$$.on_destroy.push(...o):R(o),t.$$.on_mount=[]}),s.forEach(K)}function I(t,e){const n=t.$$;n.fragment!==null&&(Oe(n.after_update),R(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ee(t,e){t.$$.dirty[0]===-1&&(j.push(t),we(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function L(t,e,n,r,s,o,l=null,i=[-1]){const c=x;S(t);const u=t.$$={fragment:null,ctx:[],props:o,update:p,not_equal:s,bound:X(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:X(),dirty:i,skip_bound:!1,root:e.target||c.$$.root};l&&l(u.root);let a=!1;if(u.ctx=n?n(t,e.props||{},(f,d,...m)=>{const y=m.length?m[0]:d;return u.ctx&&s(u.ctx[f],u.ctx[f]=y)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](y),a&&Ee(t,f)),d}):[],u.update(),a=!0,R(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const f=be(e.target);u.fragment&&u.fragment.l(f),f.forEach(k)}else u.fragment&&u.fragment.c();e.intro&&_(t.$$.fragment),E(t,e.target,e.anchor),Q()}S(c)}class C{constructor(){D(this,"$$");D(this,"$$set")}$destroy(){I(this,1),this.$destroy=p}$on(e,n){if(!fe(n))return p;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!ge(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ie="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ie);function te(t){let e;return{c(){e=g("span"),e.textContent="Failed to login",$(e,"class","svelte-kt79fc")},m(n,r){w(n,e,r)},d(n){n&&k(e)}}}function Le(t){let e,n,r,s,o,l,i,c,u,a,f=t[0]&&te();return{c(){e=g("main"),n=g("div"),r=g("h1"),r.textContent="Login",s=v(),o=g("form"),o.innerHTML='<label for="loginUsername">Username:</label> <input type="text" name="loginUsername" id="loginUsername" minlength="2" required="" class="svelte-kt79fc"/> <label for="loginPassword">Password:</label> <input type="password" name="loginPassword" id="loginPassword" minlength="8" required="" class="svelte-kt79fc"/> <input type="submit" value="Log In" class="svelte-kt79fc"/>',l=v(),i=g("br"),c=v(),f&&f.c(),$(r,"class","svelte-kt79fc"),$(o,"id","login"),$(o,"action","POST"),$(n,"class","login svelte-kt79fc")},m(d,m){w(d,e,m),h(e,n),h(n,r),h(n,s),h(n,o),h(n,l),h(n,i),h(n,c),f&&f.m(n,null),u||(a=V(o,"submit",t[1]),u=!0)},p(d,[m]){d[0]?f||(f=te(),f.c(),f.m(n,null)):f&&(f.d(1),f=null)},i:p,o:p,d(d){d&&k(e),f&&f.d(),u=!1,a()}}}function Ce(t,e,n){let{authenticated:r}=e,s=!1;const o=l=>{l.preventDefault(),l.stopPropagation();const i=document.getElementById("login"),c=document.getElementById("loginUsername").value,u=document.getElementById("loginPassword").value;i.checkValidity()&&c.length>2&&u.length>8?fetch("http://127.0.0.1:3000/login",{method:"POST",body:JSON.stringify({username:c,password:u}),headers:{"Content-Type":"application/json"}}).then(a=>a.json()).then(a=>{a.ok?(n(2,r=!0),localStorage.setItem("user",JSON.stringify({username:c,password:u}))):n(0,s=!0)}):alert("Invalid data")};return t.$$set=l=>{"authenticated"in l&&n(2,r=l.authenticated)},[s,o,r]}class Ne extends C{constructor(e){super(),L(this,e,Ce,Le,P,{authenticated:2})}}function ne(t){let e;return{c(){e=g("span"),e.textContent="Failed to register"},m(n,r){w(n,e,r)},d(n){n&&k(e)}}}function je(t){let e,n,r,s,o,l,i,c,u=t[0]&&ne();return{c(){e=g("main"),n=g("div"),r=g("h1"),r.textContent="Register",s=v(),o=g("form"),o.innerHTML='<label for="username">Username:</label> <input type="text" name="username" id="username" minlength="2" required="" class="svelte-1pyp56r"/> <label for="password">Password:</label> <input type="password" name="password" id="password" minlength="8" required="" class="svelte-1pyp56r"/> <input type="submit" value="Register" class="svelte-1pyp56r"/>',l=v(),u&&u.c(),$(r,"class","svelte-1pyp56r"),$(o,"id","register"),$(o,"action","POST"),$(n,"class","register svelte-1pyp56r")},m(a,f){w(a,e,f),h(e,n),h(n,r),h(n,s),h(n,o),h(n,l),u&&u.m(n,null),i||(c=V(o,"submit",t[3]),i=!0)},p(a,[f]){a[0]?u||(u=ne(),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i:p,o:p,d(a){a&&k(e),u&&u.d(),i=!1,c()}}}function Te(t,e,n){let{authenticated:r}=e,s=!1;const o=i=>{i.preventDefault(),i.stopPropagation();const c=document.getElementById("register"),u=document.getElementById("username").value,a=document.getElementById("password").value;c.checkValidity()&&u.length>2&&a.length>8?fetch("http://127.0.0.1:3000/register",{method:"POST",body:JSON.stringify({username:u,password:a}),headers:{"Content-Type":"application/json"}}).then(f=>f.json()).then(f=>{f.ok?(n(2,r=!0),localStorage.setItem("user",JSON.stringify({username:u,password:a}))):n(0,s=!0)}):alert("Invalid data")},l=i=>o(i);return t.$$set=i=>{"authenticated"in i&&n(2,r=i.authenticated)},[s,o,r,l]}class qe extends C{constructor(e){super(),L(this,e,Te,je,P,{authenticated:2})}}function re(t){let e,n,r;function s(l){t[5](l)}let o={};return t[0]!==void 0&&(o.authenticated=t[0]),e=new Ne({props:o}),U.push(()=>W(e,"authenticated",s)),{c(){A(e.$$.fragment)},m(l,i){E(e,l,i),r=!0},p(l,i){const c={};!n&&i&1&&(n=!0,c.authenticated=l[0],Y(()=>n=!1)),e.$set(c)},i(l){r||(_(e.$$.fragment,l),r=!0)},o(l){b(e.$$.fragment,l),r=!1},d(l){I(e,l)}}}function le(t){let e,n,r;function s(l){t[6](l)}let o={};return t[0]!==void 0&&(o.authenticated=t[0]),e=new qe({props:o}),U.push(()=>W(e,"authenticated",s)),{c(){A(e.$$.fragment)},m(l,i){E(e,l,i),r=!0},p(l,i){const c={};!n&&i&1&&(n=!0,c.authenticated=l[0],Y(()=>n=!1)),e.$set(c)},i(l){r||(_(e.$$.fragment,l),r=!0)},o(l){b(e.$$.fragment,l),r=!1},d(l){I(e,l)}}}function Be(t){let e,n,r,s=t[2].filter(t[3]).toString()+"",o,l,i,c,u,a,f=t[1]==="login"&&re(t),d=t[1]==="register"&&le(t);return{c(){e=g("main"),n=g("button"),r=F("Go to "),o=F(s),l=v(),f&&f.c(),i=v(),d&&d.c(),$(n,"class","svelte-109p8hn")},m(m,y){w(m,e,y),h(e,n),h(n,r),h(n,o),h(e,l),f&&f.m(e,null),h(e,i),d&&d.m(e,null),c=!0,u||(a=V(n,"click",t[4]),u=!0)},p(m,[y]){(!c||y&2)&&s!==(s=m[2].filter(m[3]).toString()+"")&&ve(o,s),m[1]==="login"?f?(f.p(m,y),y&2&&_(f,1)):(f=re(m),f.c(),_(f,1),f.m(e,i)):f&&(q(),b(f,1,1,()=>{f=null}),B()),m[1]==="register"?d?(d.p(m,y),y&2&&_(d,1)):(d=le(m),d.c(),_(d,1),d.m(e,null)):d&&(q(),b(d,1,1,()=>{d=null}),B())},i(m){c||(_(f),_(d),c=!0)},o(m){b(f),b(d),c=!1},d(m){m&&k(e),f&&f.d(),d&&d.d(),u=!1,a()}}}function Ae(t,e,n){let{ok:r=!1}=e,s="login";const o=["login","register"],l=a=>a!==s,i=()=>{n(1,s=s=="register"?"login":"register")};function c(a){r=a,n(0,r)}function u(a){r=a,n(0,r)}return t.$$set=a=>{"ok"in a&&n(0,r=a.ok)},[r,s,o,l,i,c,u]}class xe extends C{constructor(e){super(),L(this,e,Ae,Be,P,{ok:0})}}function Ue(t){let e;return{c(){e=g("nav"),e.innerHTML='<a href="/" class="svelte-162631l">Shop</a> <a href="/login" class="svelte-162631l">Log In</a> <a href="/register" class="svelte-162631l">Register</a>',$(e,"class","svelte-162631l")},m(n,r){w(n,e,r)},p,i:p,o:p,d(n){n&&k(e)}}}class Re extends C{constructor(e){super(),L(this,e,null,Ue,P,{})}}function Je(t){let e,n,r,s,o,l,i,c,u,a,f,d,m;return{c(){e=g("div"),n=g("img"),s=v(),o=g("hr"),l=v(),i=g("h3"),i.textContent=`${t[0]}`,c=v(),u=g("span"),u.textContent=`Price: ${t[2]} USD`,a=v(),f=g("br"),d=v(),m=g("button"),m.textContent="BUY",$(n,"width","96px"),$(n,"height","96px"),me(n.src,r=t[1])||$(n,"src",r),$(n,"alt",t[0]+" image"),$(o,"class","svelte-1l1qps0"),$(i,"class","svelte-1l1qps0"),$(m,"class","svelte-1l1qps0"),$(e,"class","svelte-1l1qps0")},m(y,ae){w(y,e,ae),h(e,n),h(e,s),h(e,o),h(e,l),h(e,i),h(e,c),h(e,u),h(e,a),h(e,f),h(e,d),h(e,m)},p,i:p,o:p,d(y){y&&k(e)}}}function Me(t,e,n){let{chofer:r}=e;const{name:s,image:o,price:l}=r;return t.$$set=i=>{"chofer"in i&&n(3,r=i.chofer)},[s,o,l,r]}class Fe extends C{constructor(e){super(),L(this,e,Me,Je,P,{chofer:3})}}function se(t,e,n){const r=t.slice();return r[1]=e[n],r}function Ve(t){return{c:p,m:p,p,i:p,o:p,d:p}}function De(t){let e,n,r=ee(t[0]),s=[];for(let l=0;l<r.length;l+=1)s[l]=ie(se(t,r,l));const o=l=>b(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=$e()},m(l,i){for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(l,i);w(l,e,i),n=!0},p(l,i){if(i&1){r=ee(l[0]);let c;for(c=0;c<r.length;c+=1){const u=se(l,r,c);s[c]?(s[c].p(u,i),_(s[c],1)):(s[c]=ie(u),s[c].c(),_(s[c],1),s[c].m(e.parentNode,e))}for(q(),c=r.length;c<s.length;c+=1)o(c);B()}},i(l){if(!n){for(let i=0;i<r.length;i+=1)_(s[i]);n=!0}},o(l){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)b(s[i]);n=!1},d(l){l&&k(e),_e(s,l)}}}function ie(t){let e,n;return e=new Fe({props:{chofer:t[1]}}),{c(){A(e.$$.fragment)},m(r,s){E(e,r,s),n=!0},p(r,s){const o={};s&1&&(o.chofer=r[1]),e.$set(o)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){b(e.$$.fragment,r),n=!1},d(r){I(e,r)}}}function He(t){return{c:p,m:p,p,i:p,o:p,d:p}}function ze(t){let e,n,r,s,o={ctx:t,current:null,token:null,hasCatch:!1,pending:He,then:De,catch:Ve,blocks:[,,,]};return Z(r=t[0],o),{c(){e=g("main"),n=g("div"),o.block.c(),$(n,"class","pokemons svelte-r90muj"),$(e,"class","svelte-r90muj")},m(l,i){w(l,e,i),h(e,n),o.block.m(n,o.anchor=null),o.mount=()=>n,o.anchor=null,s=!0},p(l,[i]){t=l,o.ctx=t,i&1&&r!==(r=t[0])&&Z(r,o)||Pe(o,t,i)},i(l){s||(_(o.block),s=!0)},o(l){for(let i=0;i<3;i+=1){const c=o.blocks[i];b(c)}s=!1},d(l){l&&k(e),o.block.d(),o.token=null,o=null}}}function Ge(t,e,n){let r=[];return fetch("http://127.0.0.1:3000/choferes").then(s=>s.json()).then(s=>{n(0,r=s)}),[r]}class Ke extends C{constructor(e){super(),L(this,e,Ge,ze,P,{})}}function oe(t){let e,n,r;function s(l){t[1](l)}let o={};return t[0]!==void 0&&(o.ok=t[0]),e=new xe({props:o}),U.push(()=>W(e,"ok",s)),{c(){A(e.$$.fragment)},m(l,i){E(e,l,i),r=!0},p(l,i){const c={};!n&&i&1&&(n=!0,c.ok=l[0],Y(()=>n=!1)),e.$set(c)},i(l){r||(_(e.$$.fragment,l),r=!0)},o(l){b(e.$$.fragment,l),r=!1},d(l){I(e,l)}}}function ce(t){let e,n,r,s,o,l;return r=new Ke({}),{c(){e=g("button"),e.textContent="Log Out",n=v(),A(r.$$.fragment),$(e,"class","svelte-109p8hn")},m(i,c){w(i,e,c),w(i,n,c),E(r,i,c),s=!0,o||(l=V(e,"click",t[2]),o=!0)},p,i(i){s||(_(r.$$.fragment,i),s=!0)},o(i){b(r.$$.fragment,i),s=!1},d(i){i&&(k(e),k(n)),I(r,i),o=!1,l()}}}function Ye(t){let e,n,r,s,o;e=new Re({});let l=!t[0]&&oe(t),i=t[0]&&ce(t);return{c(){A(e.$$.fragment),n=v(),r=g("main"),l&&l.c(),s=v(),i&&i.c()},m(c,u){E(e,c,u),w(c,n,u),w(c,r,u),l&&l.m(r,null),h(r,s),i&&i.m(r,null),o=!0},p(c,[u]){c[0]?l&&(q(),b(l,1,1,()=>{l=null}),B()):l?(l.p(c,u),u&1&&_(l,1)):(l=oe(c),l.c(),_(l,1),l.m(r,s)),c[0]?i?(i.p(c,u),u&1&&_(i,1)):(i=ce(c),i.c(),_(i,1),i.m(r,null)):i&&(q(),b(i,1,1,()=>{i=null}),B())},i(c){o||(_(e.$$.fragment,c),_(l),_(i),o=!0)},o(c){b(e.$$.fragment,c),b(l),b(i),o=!1},d(c){c&&(k(n),k(r)),I(e,c),l&&l.d(),i&&i.d()}}}function Qe(t,e,n){let r,{username:s,password:o}=JSON.parse(localStorage.getItem("user"))||{};fetch(`http://127.0.0.1:3000/login?username=${s}&password=${o}`,{method:"POST"}).then(c=>c.json()).then(c=>{console.log(c),c.ok?n(0,r=!0):n(0,r=!1)});function l(c){r=c,n(0,r)}const i=()=>{n(0,r=!1),localStorage.removeItem("user")};return n(0,r=!1),[r,l,i]}class We extends C{constructor(e){super(),L(this,e,Qe,Ye,P,{})}}new We({target:document.getElementById("app")});
